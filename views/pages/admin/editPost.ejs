<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard | HLOVF</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body {
      display: flex;
      min-height: 100vh;
    }
    .sidebar {
      width: 250px;
      background-color: #1b479e;
      color: white;
      flex-shrink: 0;
    }
    .sidebar a {
      color: white;
      padding: 10px 15px;
      display: block;
      text-decoration: none;
    }
    .sidebar a:hover,
    .sidebar a.active {
      background-color: #fb8127;
      color: white;
    }
    .main-content {
      flex-grow: 1;
      padding: 20px;
      background-color: #f8f9fa;
    }
    table th, table td {
      vertical-align: middle;
    }
  </style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
  <h4 class="text-center py-3">Admin Panel</h4>
  <a href="/admin/dashboard" class="active"><i class="bi bi-speedometer2"></i> Dashboard</a>
  <a href="/admin/create-post"><i class="bi bi-pencil-square"></i> Create Post</a>
  <a href="/admin/manage-posts"><i class="bi bi-card-list"></i> Manage Posts</a>
  <a href="/" target="_blank"><i class="bi bi-house-door"></i> View Website</a>
  <a href="/admin/logout" class="text-danger"><i class="bi bi-box-arrow-right"></i> Logout</a>
</div>

 <!-- Main Content -->
<div class="main-content container my-5">
  <h2>Edit Blog Post</h2>
  <form action="/admin/edit-post/<%= blog._id %>" method="POST" enctype="multipart/form-data">
    
    <!-- Title -->
    <div class="mb-3">
      <label>Title</label>
      <input type="text" name="title" class="form-control" value="<%= blog.title %>" required>
    </div>

    <!-- Excerpt -->
    <div class="mb-3">
      <label>Excerpt</label>
      <textarea name="excerpt" rows="3" class="form-control" required><%= blog.excerpt %></textarea>
    </div>

    <!-- Tags -->
    <div class="mb-3">
      <label>Tags (comma-separated)</label>
      <input type="text" name="tags" class="form-control" value="<%= blog.tags.join(', ') %>" placeholder="e.g., technology, education, programming">
    </div>

    <!-- Current Image -->
    <div class="mb-3">
      <label>Current Image</label><br>
      <% if (blog.image) { %>
        <img src="/uploads/blogs/<%= blog.image %>" alt="Current Image" class="img-thumbnail" style="max-width: 200px;">
      <% } else { %>
        <p>No image uploaded.</p>
      <% } %>
    </div>

    <!-- Change Image (optional) -->
    <div class="mb-3">
      <label>Change Image (optional)</label>
      <input type="file" name="image" class="form-control" accept="image/*">
      <small class="text-muted">Leave empty to keep the current image.</small>
    </div>

    <!-- Body -->
    <div class="mb-3">
      <label>Content</label>
      <textarea name="body" rows="6" class="form-control" required><%= blog.body %></textarea>
    </div>

    <!-- Submit -->
    <button type="submit" class="btn btn-primary"><i class="bi bi-save"></i> Update</button>
  </form>
</div>


</body>
</html>
